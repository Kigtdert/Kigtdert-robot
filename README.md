# Kigtdert-robot
ESP32/arduino projekt robota.
Plastové části jsou navržené ve Fusion 360 a vytištěné na 3D tiskárně. Gumové pásy se otáčí na dvou kolech každý. Každé kolo má ložiska z obou stran, což zajišťuje plynulý chod bez zadrhávání. Celá konstrukce je v celku robustní, nejslabší místo je v uchycení věže. Ta drží jen na samotném servu. Fyzický vypínač se nachází na zadní straně spodní části robota. na vrchní části se nachází krytka konektoru napájení a OLED display s kapacitní tlačítkem, schovaným pod tenkou vrstvou plastu. na přední straně se nachází indikační dioda. Zeleně svítí pokud je robot zapnutý, pokud problikává rychle červená, je vybitá baterie, pokud pomaleji, některá z kontrolovaných součástek se přehřívá a je třeba počkat, nejlépe robota vypnout. Na levém boku je schovaný DHT11 senzor teploty a vlhkosti.
Vpravo jsou čtyři konektory, sloužící nahrání programu do arduina bez nutnosti rozdělávat tělo robota. Ke stejnému účelu, akorát pro ESP32 slouží 5 konektorů na pravé straně věže. na stejné straně je i modul laseru. Nalevo je WIFI anténa ESP32. Zepředu je kamera ESP32 a bílá LED pro osvětlení.

Custom PCB je navrženo v KiCadu. Je osazeno dutinkovymi lištami a JST XH konektory pro osazení komponent. Přímo je připájené jen piezo, Step down(připojené díry), potřebné rezistory a termistory(počítá se s jejich odstraněním). Baterie je s PCB spojená přes vypínač a dvou pinový JST XH konektor, nabíjí se pomocí konektoru pod krytkou na vrchní straně robota. Dva čtyř pinové konektory, každý na jiné straně, slouží k připojení motorů. Čtyř pinový konektor ve střední části PCB je pro připojení komunikaci a napájení věže. Vedlejší tři pinový konektor je pro DHT11.
V levé dolní části je jeden pěti pinový konektor pro OLED a kapacitní tlačítko a jeden šesti pinový pro vyvedený bootovací systém a indikační Ovládání H bridge se připojí pomocí jumper kabelů, napájení a motory dostatečně silným drátem. Je pro něj vyhrazené místo, ale nebude k PCB přidělaný napevno, maximálně oboustrannou lepící páskou.

První kód je pro arduino nano ve spodní části robota, druhý je pro ESP32 CAM, které je umístěné ve věži. Jsou mezi sebou propojeny pomocí sériové linky skrz převodník logických úrovní. Na ESP32 se spustí webserver, pomocí něhož se ovládají funkce robota a je tam vysílán obraz z kamery ESP32. Samotné ESP32 ovládá jen laser, servomotor otáčející věží a vestavěnou LEDku. Zbytek příkazů odesílá do arduina které je zpracuje a na jejich základě podnikne akce, např pohyb dopředu. Arduino ovládá H bridge L298 s čtyřmi motory GA12-N20, OLED display, kapacitní tlačítko pro přepínání zobrazení displaye, DHT11 senzor teploty a vlhkosti, piezo, zjištuje stav napětí baterie (dokáže odhadnout když je vybitá a dát to audiovizuálně najevo), indikační LED a 3 termistory pro zjišťování teploty součástek. To má zabránit přehřátí H-bridge, step downu a baterie. Později se počítá s jejich odstraněním, pokud nebudou žádné přehřívací problémy nebo přesunutím na jiné součástky.
